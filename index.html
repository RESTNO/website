<!-- index.html (actualizado) -->
<!doctype html>
<html lang="es" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Vida Estudiantil ‚Äî Colegio</title>
  <meta name="description" content="P√°gina informativa creada por estudiantes para estudiantes: noticias, eventos, galer√≠a y participaci√≥n." />
  <link rel="icon" href="data:;base64,iVBORw0KGgo=" />
  <!-- En producci√≥n coloca styles.css en la misma carpeta y elimina el bloque CSS en comentarios superior -->
  <link rel="stylesheet" href="./styles.css">
  <style>
    /* m√≠nimos estilos en l√≠nea para evitar cambio de colores en caso de fallo de carga */
    :root{--accent:#f9635c}
    .btn{background:var(--accent);color:#fff}
  </style>
</head>
<body>
  <header>
    <div class="container" style="display:flex;justify-content:space-between;align-items:center">
      <div class="brand">
          <img src="Logo.png" alt="Logo del Proyecto" class="logo">
          <div>
            <h1>Vida Estudiantil</h1>
            <p class="lead">Hecho por estudiantes ¬∑ Para estudiantes ‚Äî Noticias, eventos y galer√≠a</p>
        </div>
      </div>

      <div class="top-controls">
        <select id="sectionSelect" class="nav-select" aria-label="Filtrar secciones">
          <option value="all">Todas las secciones</option>
          <option value="Informaci√≥n">Informaci√≥n</option>
          <option value="Ciencias">Ciencias</option>
          <option value="Cultura">Cultura</option>
          <option value="Deporte">Deporte</option>
        </select>
        <button id="themeToggle" class="menu" title="Cambiar modo">üåì</button>
        <button class="btn" onclick="openNewPost()">+ Nueva publicaci√≥n</button>
      </div>
    </div>
  </header>

  <main class="container" id="app">
    <div class="layout">
      <!-- Feed -->
      <section class="feed" aria-live="polite">
        <div class="card">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
            <div>
              <strong>√öltimas publicaciones</strong>
              <div class="muted" style="font-size:13px">Actualizadas semanalmente</div>
            </div>
            <div class="controls">
              <button class="btn secondary" onclick="filterPosts('all')">Ver todo</button>
            </div>
          </div>

          <div id="posts"></div>
        </div>

        <!-- highlighted sections -->
        <div class="card" style="margin-top:14px">
          <strong>Secciones destacadas</strong>
          <p class="muted" style="margin-top:8px">Encuentra columnas como Estudiante Destacado, Galer√≠a, Cultura y Deporte, Proyectos y Noticias.</p>

          <div style="display:flex;gap:8px;margin-top:12px;flex-wrap:wrap">
            <button class="chip" onclick="filterPosts('Cultura')">Cultura</button>
            <button class="chip" onclick="filterPosts('Ciencias')">Ciencia</button>
            <button class="chip" onclick="filterPosts('Deporte')">Deporte</button>
            <button class="chip" onclick="filterPosts('Informaci√≥n')">Informaci√≥n</button>
          </div>
        </div>

        <!-- contribution form -->
        <div class="card" style="margin-top:14px">
          <strong>Enviar aporte</strong>
          <p class="muted">Si quieres compartir una noticia o evento, env√≠ala al comit√© de comunicaci√≥n.</p>
          <form id="contribForm">
            <label for="name">Nombre</label>
            <input id="name" required type="text" placeholder="Tu nombre">
            <label for="title" style="margin-top:8px">T√≠tulo</label>
            <input id="title" required type="text" placeholder="Ej: Feria de ciencias 2026">
            <label for="message" style="margin-top:8px">Descripci√≥n</label>
            <textarea id="message" placeholder="Escribe una breve descripci√≥n"></textarea>
            <label for="img" style="margin-top:8px">URL de imagen (opcional)</label>
            <input id="img" type="text" placeholder="https://ejemplo.com/foto.jpg">
            <div style="display:flex;gap:8px;margin-top:10px">
              <button class="btn" type="submit">Enviar</button>
              <button class="btn secondary" type="button" onclick="clearForm()">Limpiar</button>
            </div>
          </form>
        </div>
      </section>

      <!-- Sidebar -->
      <aside class="sidebar">
        <div class="card">
          <strong>Pr√≥ximos eventos</strong>
          <div id="events" style="margin-top:10px"></div>
        </div>

        <div class="card" style="margin-top:12px">
          <strong>Galer√≠a</strong>
          <div class="gallery" id="gallery"></div>
        </div>

        <div class="card" style="margin-top:12px">
          <strong>Contacto</strong>
          <p class="muted" style="margin-top:8px">Comit√© de Comunicaci√≥n ‚Äî docente asesor: prof. Jeimy Mej√≠a</p>
          <p style="margin-top:6px">Correo: <a href="mailto:inmaculada0207@yahoo.com">inmaculada0207@yahoo.com</a></p>
          <div class="social-links" style="display:flex;gap:8px;margin-top:8px">
            <a href="https://www.facebook.com/profile.php?id=61583231951111" id="facebookLink" target="_blank">Facebook</a>
            <a href="#" id="instagramLink" target="_blank">Instagram</a>
            <a href="https://whatsapp.com/channel/0029Vb6mv1W2Jl8BLQ3SJi1y" id="whatsappLink" target="_blank">WhatsApp</a>
          </div>
        </div>
      </aside>
    </div>

    <!-- Join Us Section (multisection accordion style) -->
    <div class="card" style="margin-top:20px;padding:0;overflow:hidden">
      <button id="joinToggle" style="width:100%;padding:14px;border:none;background:var(--accent);color:white;font-size:16px;cursor:pointer;text-align:left;border-radius:12px 12px 0 0">¬øTe gustar√≠a unirte a nosotros? ‚ñæ</button>

      <div id="joinContent" style="display:none;padding:20px">
        <p class="muted">Completa el formulario si deseas formar parte del equipo de Vida Estudiantil.</p>

        <form onsubmit="alert('Gracias por tu solicitud. El comit√© revisar√° tu aplicaci√≥n. (Demo local)'); this.reset(); return false;">
         <label>Nombre completo</label>
         <input type="text" required placeholder="Ej: Jay Okocha" />

         <label style="margin-top:10px">Grado / Secci√≥n</label>
         <input type="text" required placeholder="Ej: 9no c" />

         <label style="margin-top:10px">¬øQu√© rol que te gustar√≠a desempe√±ar?</label>
         <select required>
            <option value="">Selecciona una opci√≥n</option>
            <option>Redactor / Contenido</option>
            <option>Fot√≥grafo</option>
            <option>Camar√≥grafo / Editor</option>
            <option>Dise√±ador Gr√°fico</option>
            <option>Administrador de Redes Sociales</option>
            <option>Relaciones P√∫blicas</option>
            <option>Investigador</option>
            <option>Coordinador de Eventos</option>
            <option>Gestor de Calidad Digital</option>
         </select>

         <label style="margin-top:10px">¬øPor qu√© quieres unirte?</label>
         <textarea name="Motivaci√≥n" required placeholder="Escribe tu motivaci√≥n"></textarea>

         <button class="btn" style="margin-top:12px" type="submit">Enviar solicitud</button>
        </form>
      </div>
    </div>

    <footer>
      ¬© <span id="year"></span> Vida Estudiantil ‚Äî Hecho por estudiantes. <span class="muted">Dise√±o adaptativo ¬∑ F√°cil edici√≥n</span>
    </footer>

  </main>

  <!-- Modal new post (mejorado) -->
  <div id="modal" class="hidden" style="position:fixed;inset:0;background:rgba(2,6,23,0.5);align-items:center;justify-content:center;padding:20px">
    <div style="width:100%;max-width:720px;background:var(--card);border-radius:12px;padding:18px;box-shadow:var(--shadow)">
      <h3 style="margin-top:0">Crear nueva publicaci√≥n</h3>
      <form id="createPostForm">
        <label for="postTitle">T√≠tulo</label>
        <input id="postTitle" required type="text">
        <label for="postText" style="margin-top:8px">Contenido</label>
        <textarea id="postText" required></textarea>
        <label for="postImg" style="margin-top:8px">URL imagen (opcional)</label>
        <input id="postImg" type="text">
        <div style="display:flex;justify-content:flex-end;gap:8px;margin-top:12px">
          <button type="button" class="btn secondary" onclick="closeModal()">Cancelar</button>
          <button class="btn" type="submit">Publicar</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    // Datos de muestra
    const postsData = [
      {id:1,title:'Simposio',text:'Estudiantes de 11mo grado realizaron el simposio de Investigaci√≥n Documental, demostrando habilidades en la b√∫squeda, an√°lisis y exposici√≥n de informaci√≥n relevante.',img:'./Simposio.jpg',date:'2025-11-07',section:'Informaci√≥n',author:'Prof. Jimmy'},
      {id:2,title:'Liga de conocimiento matem√°tico',text:'Actividad realizada por estudiantes para ver su destreza matem√°tica.',img:'./LCM.jpg',date:'2025-11-06',section:'Ciencias',author:'Prof. Jimmy'},
      {id:3,title:'Torneo de f√∫tbol escolar municipal',text:'Ni√±os y ni√±as de educaci√≥n primaria participaron en el Torneo Escolar Municipal de F√∫tbol.',img:'./Deporte.jpg',date:'2025-11-06',section:'Deporte',author:'Ronmel Enmanuel'},
    ];

    const eventsData = [
      {date:'2025-11-21',title:'Feria de AEP 7mo-10mo'},
      {date:'2025-11-27',title:'Pur√≠sima'},
      {date:'2025-11-28',title:'√öltimo d√≠a de clases'},
    ];

    // helpers
    function el(sel){return document.querySelector(sel)}
    function els(sel){return Array.from(document.querySelectorAll(sel))}
    function formatDate(d){try{const dt=new Date(d); return dt.toLocaleDateString('es-ES',{day:'numeric',month:'short',year:'numeric'})}catch(e){return d}}
    function escapeHtml(s){ if(!s) return ''; return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }

    // render
    function renderPosts(list){
      const el = el('#posts'); el.innerHTML='';
      list.forEach(p=>{
        const post = document.createElement('article'); post.className='post card fade-in';
        const imgHtml = p.img?`<img src="${p.img}" alt="${p.title}">`:`<div style="width:100%;height:120px;border-radius:8px;background:linear-gradient(90deg,#f0f4f8,#e6eef8);display:flex;align-items:center;justify-content:center;color:var(--muted);font-size:13px">Sin imagen</div>`;
        const excerpt = p.text.length>140?escapeHtml(p.text.slice(0,137))+"...":escapeHtml(p.text);
        post.innerHTML = `
          <div>${imgHtml}</div>
          <div>
            <h3>${escapeHtml(p.title)}</h3>
            <div class="meta">${formatDate(p.date)} ¬∑ <span class="muted">${p.section || 'General'}</span> ¬∑ <em>${p.author||'An√≥nimo'}</em></div>
            <p class="excerpt">${excerpt}</p>
            <button class="readmore" onclick="openArticle(${p.id})">Leer m√°s</button>
          </div>
        `;
        el.appendChild(post);
      })
    }

    function renderEvents(){
      const el = el('#events'); el.innerHTML='';
      eventsData.forEach(ev=>{
        const node = document.createElement('div'); node.className='event';
        node.innerHTML = `<div class="date">${new Date(ev.date).getDate()}<div style="font-size:11px;color:var(--muted)">${new Date(ev.date).toLocaleString('es-ES',{month:'short'})}</div></div><div><strong>${escapeHtml(ev.title)}</strong><div class="muted">${ev.date}</div></div>`;
        el.appendChild(node);
      })
    }

    function renderGallery(){
      const el = el('#gallery'); el.innerHTML='';
      const imgs = postsData.filter(p=>p.img).map(p=>p.img).slice(0,9);
      imgs.forEach(src=>{
        const i = document.createElement('img'); i.src = src; i.alt='Galer√≠a'; i.onclick = ()=> window.open(src,'_blank'); el.appendChild(i);
      })
    }

    // actions
    function openNewPost(){ el('#modal').classList.remove('hidden'); el('#modal').style.display='flex'; }
    function closeModal(){ el('#modal').classList.add('hidden'); el('#modal').style.display='none'; }

    el('#createPostForm')?.addEventListener('submit', (e)=>{
      e.preventDefault();
      const t = el('#postTitle').value; const txt = el('#postText').value; const img = el('#postImg').value;
      postsData.unshift({id:Date.now(),title:t,text:txt,img:img,date:new Date().toISOString().slice(0,10)});
      renderPosts(postsData); renderGallery(); closeModal(); alert('Publicaci√≥n creada (demo local). Para publicaciones reales integra un backend o CMS.');
      e.target.reset();
    })

    el('#contribForm')?.addEventListener('submit', (e)=>{
      e.preventDefault();
      const name=el('#name').value; const title=el('#title').value; const message=el('#message').value; const img=el('#img').value;
      postsData.unshift({id:Date.now(),title:`${title} ‚Äî ${name}`,text:message,img:img,date:new Date().toISOString().slice(0,10)});
      renderPosts(postsData); renderGallery(); clearForm(); alert('Gracias por tu aporte (demo local). El comit√© lo revisar√°.');
    })

    function clearForm(){ el('#name').value=''; el('#title').value=''; el('#message').value=''; el('#img').value=''; }

    function filterPosts(section){
      const select = el('#sectionSelect'); if(section==='all') { select.value='all'; renderPosts(postsData); return }
      select.value = section;
      const filtered = postsData.filter(p=>p.section===section);
      renderPosts(filtered.length?filtered:postsData);
    }

    // article view (single-page simple blog behaviour)
    function openArticle(id){
      const p = postsData.find(x=>x.id===id);
      if(!p) return;
      // create article overlay
      const overlay = document.createElement('div'); overlay.style.position='fixed'; overlay.style.inset='0'; overlay.style.overflow='auto'; overlay.style.background='rgba(2,6,23,0.5)'; overlay.style.padding='20px'; overlay.id='articleOverlay';
      const box = document.createElement('div'); box.style.maxWidth='900px'; box.style.margin='20px auto'; box.style.background='var(--card)'; box.style.borderRadius='12px'; box.style.padding='18px'; box.style.boxShadow='var(--shadow)';
      box.innerHTML = `
        <button style="float:right" class="btn secondary" onclick="document.getElementById('articleOverlay').remove()">Cerrar</button>
        <h2>${escapeHtml(p.title)}</h2>
        <div class="muted">${formatDate(p.date)} ¬∑ ${p.section || 'General'} ¬∑ <em>${p.author||'An√≥nimo'}</em></div>
        <div style="margin-top:12px">${p.img?`<img src="${p.img}" style="width:100%;height:300px;object-fit:cover;border-radius:8px">`:''}</div>
        <div class="article-content" style="margin-top:12px"><p>${escapeHtml(p.text)}</p></div>
      `;
      overlay.appendChild(box); document.body.appendChild(overlay);
    }

    // theme toggle
    const themeToggle = el('#themeToggle'); themeToggle.addEventListener('click', ()=>{
      const root = document.documentElement; const cur = root.getAttribute('data-theme') || 'light';
      const next = cur === 'light' ? 'dark' : 'light'; root.setAttribute('data-theme', next);
      document.querySelector('body').setAttribute('data-theme', next);
      // persist in localStorage
      try{localStorage.setItem('ve_theme', next)}catch(e){}
    });
    // initialize theme from storage
    try{ const saved = localStorage.getItem('ve_theme'); if(saved) document.documentElement.setAttribute('data-theme', saved); }catch(e){}

    // join toggle
    const joinToggle = document.getElementById('joinToggle');
    const joinContent = document.getElementById('joinContent');
    joinToggle.addEventListener('click', () => {
      const isOpen = joinContent.style.display === 'block';
      joinContent.style.display = isOpen ? 'none' : 'block';
      joinToggle.textContent = isOpen ? '¬øTe gustar√≠a unirte a nosotros? ‚ñæ' : '¬øTe gustar√≠a unirte a nosotros? ‚ñ¥';
    });

    // search select
    el('#sectionSelect').addEventListener('change',(e)=>{
      const v=e.target.value; if(v==='all') renderPosts(postsData); else filterPosts(v);
    })

    // initial render
    document.getElementById('year').textContent = new Date().getFullYear();
    renderPosts(postsData);
    renderEvents();
    renderGallery();
  </script>
</body>
</html>
